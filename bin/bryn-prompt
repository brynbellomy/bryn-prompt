#!/usr/bin/env node

'use strict';

let bryn_prompt = require('../js/index')
  , _ = require('lodash')

let bareArgs = _.filter(process.argv, arg => arg.indexOf('-') !== 0)
bareArgs = _.drop(bareArgs, 2)

if (bareArgs.length <= 0) {
    process.stderr.write('Must specify one arg of the form cols,rows.  Probably should do something like this in your .zshrc:\n'
                       + '    export PROMPT="$(bryn-prompt $COLUMNS,$LINES --colors)"\n\n')
    process.exit(1)
}


let colsRows = bareArgs[0].split(',').map(s => parseInt(s.trim(), 10))

bryn_prompt.render(colsRows[0], colsRows[1])



